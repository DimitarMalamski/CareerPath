<div [formGroup]="form">

  <section class="bg-white shadow rounded-xl p-6 space-y-4">

    <div class="flex justify-between items-center">
      <h2 class="text-xl font-bold">Experience</h2>

      <button type="button"
              class="text-blue-600 font-medium"
              (click)="experiences.push(createExperienceFn())">
        + Add Experience
      </button>
    </div>

    <div formArrayName="experiences" class="space-y-5">

      <div *ngFor="let group of experiences.controls; let i = index"
           [formGroupName]="i"
           class="border p-4 rounded space-y-3 bg-gray-50">

        <input class="input" formControlName="company" placeholder="Company">
        <input class="input" formControlName="title" placeholder="Title">
        <input class="input" formControlName="employmentType" placeholder="Employment Type">
        <input class="input" formControlName="location" placeholder="Location">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <input class="input" formControlName="startDate" placeholder="Start Date">
          <input class="input" formControlName="endDate" placeholder="End Date">
        </div>

        <label class="flex items-center gap-2">
          <input type="checkbox" formControlName="isCurrent">
          Current Position
        </label>

        <textarea class="input h-28" formControlName="description"></textarea>

        <button class="text-red-600" type="button" (click)="experiences.removeAt(i)">
          Remove Experience
        </button>

      </div>

    </div>

  </section>

</div>
