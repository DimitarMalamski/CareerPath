<div *ngIf="loading" class="p-6 text-center text-gray-500">
  Loading profile...
</div>

<form *ngIf="!loading" [formGroup]="form" class="p-6 space-y-8">

  <!-- Basic Info -->
  <div class="space-y-4">
    <div>
      <label for="fullName" class="block font-semibold">Full Name</label>
      <input id="fullName" class="input" type="text" formControlName="fullName">
    </div>

    <div>
      <label for="headline" class="block font-semibold">Headline</label>
      <input id="headline" class="input" type="text" formControlName="headline">
    </div>

    <div>
      <label for="about" class="block font-semibold">About</label>
      <textarea class="input h-28" formControlName="about"></textarea>
    </div>

    <div>
      <label for="location" class="block font-semibold">Location</label>
      <input id="location" class="input" type="text" formControlName="location">
    </div>
  </div>

  <!-- Skills -->
  <div>
    <h2 class="text-lg font-bold mb-2">Skills</h2>

    <div *ngFor="let group of skills.controls; let i = index"
         class="flex gap-3 items-start mb-2"
        [formGroupName]="i">

      <input class="input w-1/2" formControlName="name" placeholder="Skill name">
      <input class="input w-1/3" formControlName="level" placeholder="Level">

      <button type="button"
              class="text-red-600"
              (click)="removeSkill(i)">
        Remove
      </button>
    </div>

    <button type="button" class="text-blue-600" (click)="addSkill()">
      + Add Skill
    </button>
  </div>

  <div formArrayName="experiences">
    <h2 class="text-lg font-bold mb-3">Experience</h2>

    <div *ngFor="let group of experiences.controls; let i = index"
         [formGroupName]="i"
         class="border p-4 rounded mb-3 space-y-3">

      <input class="input w-full" formControlName="company" placeholder="Company">
      <input class="input w-full" formControlName="title" placeholder="Title">
      <input class="input w-full" formControlName="employmentType" placeholder="Employment Type">
      <input class="input w-full" formControlName="location" placeholder="Location">

      <div class="flex gap-3">
        <input class="input" formControlName="startDate" placeholder="Start Date">
        <input class="input" formControlName="endDate" placeholder="End Date">
      </div>

      <label class="flex items-center gap-2">
        <input type="checkbox" formControlName="isCurrent">
        Current Position
      </label>

      <textarea class="input w-full" formControlName="description" placeholder="Description"></textarea>

      <button type="button" class="text-red-600" (click)="removeExperience(i)">
        Remove Experience
      </button>
    </div>

    <button type="button" class="text-blue-600" (click)="addExperience()">
      + Add Experience
    </button>
  </div>

  <div class="pt-4">
    <button type="button"
            (click)="save()"
            class="bg-blue-600 text-white px-6 py-2 rounded">
      Save Changes
    </button>
  </div>

</form>
